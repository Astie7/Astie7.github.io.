:root {
    --font-body: "Space Grotesk", "Segoe UI", sans-serif;
    --bg: #eaf5ff;
    --bg-soft: #d6ebff;
    --bg-deep: #c6e4ff;
    --surface: rgba(255, 255, 255, 0.9);
    --surface-muted: rgba(244, 250, 255, 0.78);
    --border: rgba(29, 103, 156, 0.2);
    --text: #0f2a43;
    --text-muted: #3d6588;
    --accent: #157eb8;
    --accent-2: #12a6c3;
}

html[data-theme="dark"] {
    --bg: #07192b;
    --bg-soft: #0d2740;
    --bg-deep: #12304e;
    --surface: rgba(8, 28, 46, 0.9);
    --surface-muted: rgba(11, 35, 57, 0.78);
    --border: rgba(117, 183, 228, 0.2);
    --text: #e3f2ff;
    --text-muted: #a4c6df;
    --accent: #53c4ff;
    --accent-2: #5ce8e2;
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

html.low-end-mode {
    scroll-behavior: auto;
}

body {
    margin: 0;
    min-height: 100vh;
    font-family: var(--font-body);
    color: var(--text);
    line-height: 1.55;
    background:
        radial-gradient(72% 62% at 8% 0%, rgba(72, 178, 229, 0.3), transparent 65%),
        radial-gradient(78% 56% at 100% 0%, rgba(38, 169, 191, 0.2), transparent 64%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg-soft) 45%, var(--bg-deep) 100%);
}

html.low-end-mode body {
    background: linear-gradient(180deg, var(--bg) 0%, var(--bg-soft) 58%, var(--bg-deep) 100%);
}

a {
    color: inherit;
    text-decoration: none;
}

.shell {
    width: min(1120px, 92vw);
    margin-inline: auto;
    padding-block: 18px;
}

.topbar.shell {
    width: 100%;
    max-width: none;
    padding-top: clamp(2px, 0.4vw, 5px);
    padding-bottom: 0;
    padding-inline: 0;
}

.topbar {
    position: sticky;
    top: max(0px, env(safe-area-inset-top));
    z-index: 24;
    padding: 0;
    border-radius: 0;
    border: 1px solid rgba(33, 129, 176, 0.4);
    background:
        radial-gradient(145% 180% at 0% 0%, rgba(25, 173, 211, 0.15), transparent 48%),
        radial-gradient(120% 160% at 100% 100%, rgba(27, 114, 170, 0.11), transparent 54%),
        linear-gradient(102deg, rgba(7, 28, 46, 0.96), rgba(8, 24, 42, 0.94) 52%, rgba(7, 28, 46, 0.95));
}

.pmain-bar {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: clamp(4px, 0.5vw, 8px);
    min-height: clamp(34px, 2.3vw, 40px);
    padding: clamp(3px, 0.35vw, 5px) clamp(6px, 0.8vw, 10px);
    min-width: 0;
}

.topbar-left {
    display: flex;
    align-items: center;
    flex: 0 0 auto;
    min-width: 0;
}

.topbar .brand {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: clamp(5px, 0.4vw, 8px);
    min-height: clamp(26px, 1.8vw, 30px);
    max-inline-size: min(100%, 22rem);
    min-width: 0;
    padding: clamp(3px, 0.22vw, 5px) clamp(8px, 0.65vw, 11px);
    border-radius: 10px;
    border: 1px solid rgba(102, 189, 233, 0.38);
    background: linear-gradient(145deg, rgba(20, 52, 82, 0.86), rgba(14, 40, 66, 0.84));
    color: #e6f6ff;
    font-size: clamp(0.76rem, 0.72rem + 0.1vw, 0.85rem);
    font-weight: 760;
    letter-spacing: 0.01em;
    white-space: nowrap;
}

.topbar .brand span:last-child {
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
}

.topbar .brand .dot {
    flex: 0 0 auto;
    width: clamp(12px, 0.85vw, 14px);
    height: clamp(12px, 0.85vw, 14px);
    border-radius: 50%;
    background:
        linear-gradient(140deg, rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.08)),
        url("Pantheverse.webp");
    background-size: cover;
    background-position: center;
    border: 1px solid rgba(220, 248, 255, 0.72);
    box-shadow: 0 0 0 2px rgba(26, 170, 209, 0.22);
}

.nav {
    margin-left: auto;
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    justify-content: flex-end;
    gap: 2px;
    padding: 2px;
    border-radius: 0;
    border: 1px solid rgba(99, 188, 232, 0.34);
    background: linear-gradient(150deg, rgba(20, 52, 82, 0.86), rgba(14, 40, 66, 0.84));
    max-width: 100%;
    min-width: 0;
    flex: 0 0 auto;
}

.nav a,
.nav .btn {
    min-height: clamp(24px, 1.8vw, 30px);
    padding: clamp(2px, 0.2vw, 4px) clamp(8px, 0.72vw, 11px);
    border-radius: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
    font-size: clamp(0.74rem, 0.7rem + 0.1vw, 0.84rem);
}

.nav a {
    color: #a8cce2;
    font-weight: 760;
    letter-spacing: 0.01em;
}

.nav a.active {
    color: #ecfbff;
    background: linear-gradient(135deg, #2db9e6, #3ad0f2);
}

.auth-bridge {
    position: fixed;
    left: -9999px;
    top: -9999px;
    width: 0;
    height: 0;
    opacity: 0;
    pointer-events: none;
    overflow: hidden;
}

.auth-top-btn {
    min-height: 26px;
    padding: 4px 8px;
    border-radius: 0;
    font-size: 0.78rem;
    font-weight: 760;
    letter-spacing: 0.01em;
}

.hero,
.rules-layout,
.page-about main {
    opacity: 1;
}

h1,
h2,
h3,
h4,
p {
    margin-top: 0;
}

@media (max-width: 860px) {
    .topbar {
        top: 0;
        border-radius: 0;
    }

    .pmain-bar {
        align-items: center;
        gap: 4px;
        padding: 3px 4px;
    }

    .topbar-left {
        flex-basis: 100%;
    }

    .nav {
        margin-left: 0;
        flex: 1 1 100%;
        min-width: 0;
        width: 100%;
        justify-content: flex-start;
        gap: 2px;
    }

    .nav a,
    .nav .btn,
    .auth-top-btn {
        flex: 0 1 auto;
    }
}
